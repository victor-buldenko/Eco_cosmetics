{"version":3,"sources":["scripts/main.js"],"names":["window","addEventListener","events","shopSlides","document","querySelectorAll","shopIcon","shopIconFixed","querySelector","closeIcon","popup","cart","body","shopButton","shopButtonClose","form","forEach","el","e","classList","add","style","overflowY","remove","src","childNodes","event","target","contains","preventDefault","products","width","borderBottomColor","overflow","height","setTimeout","reset","buyButton","cartCounter","cartCounterFixed","opacity","buyButtonCounter","globalBuyCounter","pointerEvents","length","fill","i","count","amount","num","innerHTML","split","reduce","acc","elem","cartTable","productImage","productName","productNameBefore","getComputedStyle","productPrice","row","createElement","cellPosition","cellImageCell","cellImage","cellName","cellNumber","cellPrice","cellAmount","appendChild","getPropertyValue","number","scrollY"],"mappings":";AAAA,aAEAA,OAAOC,iBAAiB,OAAQ,SAACC,GACzBC,IAAAA,EAAaC,SAASC,iBAAiB,gBACvCC,EAAWF,SAASC,iBAAiB,aACrCE,EAAgBH,SAASI,cAAc,cACvCC,EAAYL,SAASI,cAAc,eACnCE,EAAQN,SAASI,cAAc,UAC/BG,EAAOP,SAASI,cAAc,aAC9BI,EAAOR,SAASI,cAAc,SAC9BK,EAAaT,SAASI,cAAc,iBACpCM,EAAkBV,SAASI,cAAc,uBACzCO,EAAOX,SAASI,cAAc,kBAEpCF,EAASU,QAAQ,SAAAC,GACfA,EAAGhB,iBAAiB,QAAS,SAAAiB,GAC3BP,EAAKQ,UAAUC,IAAI,QACnBR,EAAKS,MAAMC,UAAY,aAI3Bb,EAAUR,iBAAiB,QAAS,SAAAiB,GAClCP,EAAKQ,UAAUI,OAAO,QACtBX,EAAKS,MAAMC,UAAY,WAGzBnB,EAAWa,QAAQ,SAAAC,GACjBA,EAAGhB,iBAAiB,QAAS,SAAAiB,GAC3Bd,SAASI,cAAc,gBAAgBgB,IACnCP,EAAGQ,WAAW,GAAGA,WAAW,GAAGD,IACnCd,EAAMS,UAAUC,IAAI,QACpBR,EAAKS,MAAMC,UAAY,WACtB,KAGLZ,EAAMT,iBAAiB,QAAS,SAAAyB,IAC1BA,EAAMC,SAAWjB,GAChBgB,EAAMC,OAAOR,UAAUS,SAAS,kBACnClB,EAAMS,UAAUI,OAAO,QACvBX,EAAKS,MAAMC,UAAY,YAI3BT,EAAWZ,iBAAiB,QAAS,SAAAiB,GACnCA,EAAEW,iBAEIC,IAAAA,EAAW1B,SAASI,cAAc,sBAEpCsB,GAAyB,SAAzBA,EAAST,MAAMU,MAMjB,OALAD,EAAST,MAAMW,kBAAoB,cACnCF,EAAST,MAAMY,SAAW,SAC1BH,EAAST,MAAMU,MAAQ,SACvBD,EAAST,MAAMa,OAAS,KAK1BJ,EAAST,MAAMU,MAAQ,OAEvBI,WAAW,WACTL,EAAST,MAAMW,kBAAoB,UACnCF,EAAST,MAAMY,SAAW,OAC1BH,EAAST,MAAMa,OAAS,QACvB,OAGLpB,EAAgBb,iBAAiB,QAAS,SAAAiB,GACxCA,EAAEW,iBAEIC,IAAAA,EAAW1B,SAASI,cAAc,sBAExCsB,EAAST,MAAMW,kBAAoB,cACnCF,EAAST,MAAMY,SAAW,SAC1BH,EAAST,MAAMa,OAAS,IAExBC,WAAW,WACTL,EAAST,MAAMU,MAAQ,KACtB,OAGLhB,EAAKd,iBAAiB,SAAU,SAAAiB,GAC9BA,EAAEW,iBACFX,EAAES,OAAOS,UAGLC,IAAAA,EAAYjC,SAASC,iBAAiB,oBACtCiC,EAAclC,SAASI,cAAc,iBACrC+B,EAAmBnC,SAASI,cAAc,mBAEhD8B,EAAYjB,MAAMmB,QAAU,EAC5BD,EAAiBlB,MAAMmB,QAAU,EAE3BC,IAAAA,EAAmB,GACrBC,EAAmB,EAEE,IAArBA,IACFnC,EAAcc,MAAMmB,QAAU,EAC9BjC,EAAcoC,cAAgB,QAGhCF,EAAiBG,OAASP,EAAUO,OACpCH,EAAiBI,KAAK,GAEtBR,EAAUrB,QAAQ,SAACC,EAAI6B,GACrB7B,EAAGhB,iBAAiB,QAAS,SAAAyB,GACvBA,GAAAA,EAAMC,OAAOR,UAAUS,SAAS,mBAAoB,CAClDa,GAAwB,IAAxBA,EAAiBK,GAAU,CACvBC,IAAAA,EAAQ3C,SAASI,cAA0BsC,YAAAA,OAAAA,IAC3CE,EAAS5C,SAASI,cAAyBsC,WAAAA,OAAAA,IAE3CG,EADQ7C,SAASI,cAAwBsC,UAAAA,OAAAA,IAC7BI,UAAUC,MAAM,KAAK,GAWvC,OATAV,EAAiBK,IAAM,EACvBC,EAAMG,UAAYT,EAAiBK,GACnCE,EAAOE,UAAYT,EAAiBK,GAAKG,EACzCP,EAAmBD,EAAiBW,OAAO,SAACC,EAAKC,GAASD,OAAAA,EAAMC,IAChEhB,EAAYY,UAAYR,EACxBH,EAAiBW,UAAYR,EAC7BJ,EAAYjB,MAAMmB,QAAU,OAC5BD,EAAiBlB,MAAMmB,QAAU,GAK7Be,IAAAA,EAAYnD,SAASI,cAAc,qBACnCgD,EAAepD,SAASI,cAAc,gBAAgBgB,IACtDiC,EAAcrD,SAASI,cAAc,gBACrCkD,EACF1D,OAAO2D,iBAAiBF,EAAa,WACnCG,EAAexD,SAASI,cAAc,gBAAgB0C,UACtDW,EAAMzD,SAAS0D,cAAc,MAC7BC,EAAe3D,SAAS0D,cAAc,MACtCE,EAAgB5D,SAAS0D,cAAc,MACvCG,EAAY7D,SAAS0D,cAAc,OACnCI,EAAW9D,SAAS0D,cAAc,MAClCK,EAAa/D,SAAS0D,cAAc,MACpCM,EAAYhE,SAAS0D,cAAc,MACnCO,EAAajE,SAAS0D,cAAc,MAE1CE,EAAcM,YAAYL,GAE1BJ,EAAI1C,UAAUC,IAAI,mBAClB+C,EAAWhD,UAAUC,IAAe0B,WAAAA,OAAAA,IACpCuB,EAAWlD,UAAUC,IAAc0B,UAAAA,OAAAA,IACnCsB,EAAUjD,UAAUC,IAAa0B,SAAAA,OAAAA,IACjCiB,EAAa5C,UAAUC,IAAI,0BAC3B4C,EAAc7C,UAAUC,IAAI,2BAC5B6C,EAAU9C,UAAUC,IAAI,uBACxB8C,EAAS/C,UAAUC,IAAI,sBACvB+C,EAAWhD,UAAUC,IAAI,wBACzBgD,EAAUjD,UAAUC,IAAI,uBACxBiD,EAAWlD,UAAUC,IAAI,wBAEzB2C,EAAab,UAAY9C,SAASC,iBAAiB,oBAChDuC,OAE4B,MAA3BmB,EAAab,YACfa,EAAab,UAAY,GAG3Be,EAAUzC,IAAMgC,EAChBU,EAAShB,UAAYQ,EAAkBa,iBAAiB,WACxDJ,EAAWjB,WAAaiB,EAAWjB,UAAY,EAC/CkB,EAAUlB,UAAYU,EAEhBY,IAAAA,EAASJ,EAAUlB,UAAUC,MAAM,KAAK,GAE9CkB,EAAWnB,UAAYiB,EAAWjB,UAAYsB,EAE9CX,EAAIS,YAAYP,GAChBF,EAAIS,YAAYN,GAChBH,EAAIS,YAAYJ,GAChBL,EAAIS,YAAYH,GAChBN,EAAIS,YAAYF,GAChBP,EAAIS,YAAYD,GAChBd,EAAUe,YAAYT,GACtBpB,EAAiBK,IAAM,EACvBJ,EAAmBD,EAAiBW,OAAO,SAACC,EAAKC,GAASD,OAAAA,EAAMC,IAChEhB,EAAYY,UAAYR,EACxBH,EAAiBW,UAAYR,EAC7BJ,EAAYjB,MAAMmB,QAAU,EAC5BD,EAAiBlB,MAAMmB,QAAU,EACjCjC,EAAcc,MAAMmB,QAAU,EAC9BjC,EAAcoC,cAAgB,YAKpC3C,OAAOC,iBAAiB,SAAU,SAAAiB,GAC5BlB,OAAOyE,QAAU,KAA4B,IAArB/B,GAC1BnC,EAAcc,MAAMmB,QAAU,EAC9BjC,EAAcoC,cAAgB,SAE9BpC,EAAcc,MAAMmB,QAAU,EAC9BjC,EAAcoC,cAAgB","file":"main.3e675e6b.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nwindow.addEventListener('load', (events) => {\n  const shopSlides = document.querySelectorAll('.shop__slide');\n  const shopIcon = document.querySelectorAll('.opencart');\n  const shopIconFixed = document.querySelector('.fixedCart');\n  const closeIcon = document.querySelector('.close-cart');\n  const popup = document.querySelector('.popup');\n  const cart = document.querySelector('.cart-out');\n  const body = document.querySelector('#body');\n  const shopButton = document.querySelector('.shop__button');\n  const shopButtonClose = document.querySelector('.shop__button-close');\n  const form = document.querySelector('.contact__form');\n\n  shopIcon.forEach(el => {\n    el.addEventListener('click', e => {\n      cart.classList.add('show');\n      body.style.overflowY = 'hidden';\n    });\n  });\n\n  closeIcon.addEventListener('click', e => {\n    cart.classList.remove('show');\n    body.style.overflowY = 'scroll';\n  });\n\n  shopSlides.forEach(el => {\n    el.addEventListener('click', e => {\n      document.querySelector('.popup-image').src\n        = el.childNodes[1].childNodes[5].src;\n      popup.classList.add('show');\n      body.style.overflowY = 'hidden';\n    }, true);\n  });\n\n  popup.addEventListener('click', event => {\n    if (event.target === popup\n      || event.target.classList.contains('close-popup')) {\n      popup.classList.remove('show');\n      body.style.overflowY = 'scroll';\n    }\n  });\n\n  shopButton.addEventListener('click', e => {\n    e.preventDefault();\n\n    const products = document.querySelector('.shop__allproducts');\n\n    if (products.style.width === '100%') {\n      products.style.borderBottomColor = 'transparent';\n      products.style.overflow = 'hidden';\n      products.style.width = '0';\n      products.style.height = '0';\n\n      return;\n    }\n\n    products.style.width = '100%';\n\n    setTimeout(() => {\n      products.style.borderBottomColor = '#344f10';\n      products.style.overflow = 'auto';\n      products.style.height = '100%';\n    }, 1000);\n  });\n\n  shopButtonClose.addEventListener('click', e => {\n    e.preventDefault();\n\n    const products = document.querySelector('.shop__allproducts');\n\n    products.style.borderBottomColor = 'transparent';\n    products.style.overflow = 'hidden';\n    products.style.height = '0';\n\n    setTimeout(() => {\n      products.style.width = '0';\n    }, 1000);\n  });\n\n  form.addEventListener('submit', e => {\n    e.preventDefault();\n    e.target.reset();\n  });\n\n  const buyButton = document.querySelectorAll('.product__button');\n  const cartCounter = document.querySelector('.card-counter');\n  const cartCounterFixed = document.querySelector('.card-counter-f');\n\n  cartCounter.style.opacity = 0;\n  cartCounterFixed.style.opacity = 0;\n\n  const buyButtonCounter = [];\n  let globalBuyCounter = 0;\n\n  if (globalBuyCounter === 0) {\n    shopIconFixed.style.opacity = 0;\n    shopIconFixed.pointerEvents = 'none';\n  }\n\n  buyButtonCounter.length = buyButton.length;\n  buyButtonCounter.fill(0);\n\n  buyButton.forEach((el, i) => {\n    el.addEventListener('click', event => {\n      if (event.target.classList.contains('product__button')) {\n        if (buyButtonCounter[i] !== 0) {\n          const count = document.querySelector(`.counter-${i}`);\n          const amount = document.querySelector(`.amount-${i}`);\n          const price = document.querySelector(`.price-${i}`);\n          const num = price.innerHTML.split(' ')[0];\n\n          buyButtonCounter[i] += 1;\n          count.innerHTML = buyButtonCounter[i];\n          amount.innerHTML = buyButtonCounter[i] * num;\n          globalBuyCounter = buyButtonCounter.reduce((acc, elem) => acc + elem);\n          cartCounter.innerHTML = globalBuyCounter;\n          cartCounterFixed.innerHTML = globalBuyCounter;\n          cartCounter.style.opacity = 1;\n          cartCounterFixed.style.opacity = 1;\n\n          return;\n        }\n\n        const cartTable = document.querySelector('.cart__table-body');\n        const productImage = document.querySelector('.popup-image').src;\n        const productName = document.querySelector('.popup-title');\n        const productNameBefore\n          = window.getComputedStyle(productName, ':before');\n        const productPrice = document.querySelector('.popup-price').innerHTML;\n        const row = document.createElement('TR');\n        const cellPosition = document.createElement('TD');\n        const cellImageCell = document.createElement('TD');\n        const cellImage = document.createElement('IMG');\n        const cellName = document.createElement('TD');\n        const cellNumber = document.createElement('TD');\n        const cellPrice = document.createElement('TD');\n        const cellAmount = document.createElement('TD');\n\n        cellImageCell.appendChild(cellImage);\n\n        row.classList.add('cart__table-row');\n        cellNumber.classList.add(`counter-${i}`);\n        cellAmount.classList.add(`amount-${i}`);\n        cellPrice.classList.add(`price-${i}`);\n        cellPosition.classList.add('cart__product-position');\n        cellImageCell.classList.add('cart__product-imageCell');\n        cellImage.classList.add('cart__product-image');\n        cellName.classList.add('cart__product-name');\n        cellNumber.classList.add('cart__product-number');\n        cellPrice.classList.add('cart__product-price');\n        cellAmount.classList.add('cart__product-amount');\n\n        cellPosition.innerHTML = document.querySelectorAll('.cart__table-row')\n          .length;\n\n        if (cellPosition.innerHTML === '0') {\n          cellPosition.innerHTML = 1;\n        };\n\n        cellImage.src = productImage;\n        cellName.innerHTML = productNameBefore.getPropertyValue('content');\n        cellNumber.innerHTML = +cellNumber.innerHTML + 1;\n        cellPrice.innerHTML = productPrice;\n\n        const number = cellPrice.innerHTML.split(' ')[0];\n\n        cellAmount.innerHTML = cellNumber.innerHTML * number;\n\n        row.appendChild(cellPosition);\n        row.appendChild(cellImageCell);\n        row.appendChild(cellName);\n        row.appendChild(cellNumber);\n        row.appendChild(cellPrice);\n        row.appendChild(cellAmount);\n        cartTable.appendChild(row);\n        buyButtonCounter[i] += 1;\n        globalBuyCounter = buyButtonCounter.reduce((acc, elem) => acc + elem);\n        cartCounter.innerHTML = globalBuyCounter;\n        cartCounterFixed.innerHTML = globalBuyCounter;\n        cartCounter.style.opacity = 1;\n        cartCounterFixed.style.opacity = 1;\n        shopIconFixed.style.opacity = 1;\n        shopIconFixed.pointerEvents = 'auto';\n      }\n    });\n  });\n\n  window.addEventListener('scroll', e => {\n    if (window.scrollY < 150 || globalBuyCounter === 0) {\n      shopIconFixed.style.opacity = 0;\n      shopIconFixed.pointerEvents = 'none';\n    } else {\n      shopIconFixed.style.opacity = 1;\n      shopIconFixed.pointerEvents = 'auto';\n    }\n  });\n});\n"]}